
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.6.6/processing.js"></script>
    <script type="text/processing" data-processing-target="processing-canvas">

ArrayList<Light>lights;
float brightness;

void setup() {
  size(500, 500);
  lights = new ArrayList<Light>();
  background(0);
  drawTree();
}
void draw() { 
  if (mousePressed) {
    colorMode(HSB);
    stroke(random(0, 255), 255, 255);
    strokeWeight(2);
    line(mouseX, mouseY, mouseX + random(-5, 5), mouseY + random(-5, 5));
  }
  if (keyPressed) {
   noStroke();
   lights.add(new Light()); 
  }
  for (Light l : lights) {
    l.show();
  }
}
void drawTree() {
  colorMode(RGB);
  noStroke();
  fill(0, 255, 50);
  triangle(width/2 - 50, 150, width/2, 50, width/2 + 50, 150);
  triangle(width/2 - 75, 250, width/2, 75, width/2 + 75, 250);
  triangle(width/2 - 90, 350, width/2, 100, width/2 + 90, 350);
  fill(62, 21, 2);
  rect(width/2 -25, 350, 50, 60);
}

class Light {
  float x;
  float y;
  float hue;

  Light() {
    x = mouseX;
    y = mouseY;
    hue = random(0,255);
  }

  void show() {
    noStroke();
    fill(hue, 255, 255);
    ellipse(x, y, 10, 10);
  }
}
   </script>
  </head>
  <body>
    <canvas id="processing-canvas"></canvas>
  </body>
</html>