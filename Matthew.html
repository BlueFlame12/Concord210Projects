<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.6.6/processing.js"></script>
    <script type="text/processing" data-processing-target="processing-canvas">


ArrayList<Light> lights;
void setup(){
  size(500, 500);
  lights = new ArrayList<Light>();
  background(0);
  drawTree();
}

void draw() {
  colorMode(RGB);
  stroke(250, 171, 0);
  strokeWeight(2);
  if (mousePressed) {
    line(mouseX,
         mouseY,
         mouseX + random(-5, 5),
         mouseY + random(-5, 5));
  }
  
  if(keyPressed) {
    lights.add(new Light());
  }


  
  for (Light l : lights) {
    l.show();
  }
}

void drawTree(){
   fill(0, 150, 0);
   noStroke();
   triangle(width/2 - 50, 175, width/2, 75, width/2 + 50, 175);
   triangle(width/2 -75, 250, width/2, 125, width/2 + 75, 250);
   triangle(width/2 -100, 350, width/2, 175, width/2 + 100, 350);
   fill(70, 21, 2);
   rect(width/2 - 25,350, 50, 60);
}      

class Light{
  float x;
  float y;
  float hue;
  boolean on;
  
  Light() {
    x = mouseX;
    y = mouseY;
    hue = random(255);
    on = false;
  }
  
  void show() {
    noStroke();
    colorMode(HSB);
    fill(hue, 255, 200);
    ellipse(x, y, 10, 10);
  }
}

  </script>
  </head>
  <body>
    <canvas id="processing-canvas"></canvas>
  </body>
</html>
